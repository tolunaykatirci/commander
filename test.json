[
    {
        "operation": "DEFINE_VARIABLE",
        "pairs": [
            {
                "key": "project_root",
                "value": ".\\ionic-hms-nearby-demo-test"
            },
            {
                "key": "project_id",
                "value": "com.hms.kit.demo.release"
            },
            {
                "key": "library_path",
                "value": "D:\\hms-kits\\HP_HMSCore-Plugin-Cordova_Nearby-Library"
            },
            {
                "key": "ionic_wrapper",
                "value": "hmscore-ionic-native-hms-nearby-5.2.1-300.tgz"
            }
        ],
        "wait": false
    },
    {
        "operation": "RUN_COMMANDER_SCRIPT",
        "filePath": "copy_configs.json",
        "wait": true
    },
    {
        "operation": "REPLACE_TEXT",
        "filePath": "${project_root}\\agconnect-services.json",
        "oldValue": "com.hms.nearby.cordova",
        "newValue": "${project_id}"
    },
    {
        "operation": "RUN_SHELL",
        "command": "npm install"
    },
    {
        "operation": "RUN_SHELL",
        "command": "ionic integrations enable cordova"
    },
    {
        "operation": "REPLACE_TEXT",
        "filePath": "config.xml",
        "oldValue": "<package_name>",
        "newValue": "${project_id}"
    },
    {
        "operation": "RUN_SHELL",
        "command": "ionic cordova platform add android"
    },
    {
        "operation": "RUN_SHELL",
        "command": "ionic cordova plugin add ${library_path}"
    },
    {
        "operation": "RUN_SHELL",
        "command": "npm pack",
        "workingDirectory": "${library_path}\\ionic-native\\dist"
    }
]